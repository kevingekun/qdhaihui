!function(e,t){for(var a in t)e[a]=t[a]}(window,function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";var n=a(1),r=a(2),s=a(1).ExDatePickerHelper,i=a(90),l=a(92),o=a(91),c=a(87),d=a(89),m=a(88),p=a(43),u=a(26),h=a(42);n.Prepare({useMenu:!0,useFootnote:!0,useRobot:!0,useIndexComment:!1});var f=n.Appoint.dtUpdateDay,v={lastDay:f,limitations:[{key:"dayLimitation",num:-90},{key:"weekLimitation",num:-12},{key:"monthLimitation",num:-13}]},g=s.getLimitations(v),y="recent1",E=r.createClass({displayName:"App",getInitialState:function(){return{dateType:y,dateRange:s.getDateRangeStr(n.Appoint.dtUpdateDay,y)}},componentWillMount:function(){this._generalModel=new p,this._trendModel=new u,this._dataExplanationModel=new h},componentWillUnmount:function(){this._generalModel.off(),this._trendModel.off(),this._dataExplanationModel.off(),delete this._generalModel,delete this._trendModel,delete this._dataExplanationModel},handleDtSwitch:function(e){this.setState({dateType:e.dateType,dateRange:e.dateRange.join("|")})},render:function(){var e=n.CommonChartHelper.convertDateValues(this.state.dateType,this.state.dateRange);return r.createElement("div",{className:"flow-index"},r.createElement(n.ScreenSticky,{title:"娴侀噺姒傚喌"},r.createElement(n.DtPicker,{defaultDateType:y,onSwitch:this.handleDtSwitch,dayLimitation:g.dayLimitation,weekLimitation:g.weekLimitation,monthLimitation:g.monthLimitation})),r.createElement(i,{model:this._generalModel,dateRange:this.state.dateRange,dateType:this.state.dateType}),r.createElement(l,{model:this._trendModel,dateRange:e.dateRange,dateType:e.dateType,originalDateRange:this.state.dateRange,originalDateType:this.state.dateType}),r.createElement(o,{dateRange:this.state.dateRange,dateType:this.state.dateType}),r.createElement(c,{dateRange:this.state.dateRange,dateType:this.state.dateType}),r.createElement(d,{dateRange:this.state.dateRange,dateType:this.state.dateType}),r.createElement(m,{model:this._dataExplanationModel}))}});r.render(r.createElement(E,null),document.getElementById("main"))},function(e,t,a){!function(){e.exports=window["@ali/op-base"]}()},function(e,t,a){!function(){e.exports=window["@ali/op-base"]["react/addons"]}()},function(e,t,a){!function(){e.exports=window["@ali/op-base"].lodash}()},function(e,t,a){!function(){e.exports=window["@ali/op-base"].oneui}()},,function(e,t,a){!function(){e.exports=window["@ali/op-base"].moment}()},,,function(e,t,a){"use strict";var n=!1,r="http://rap.alibaba-inc.com/mockjsdata/443",s=a(1).Appoint,i=s.opUrl.bda,l={general:"/flow/summary/getGeneral.json","general/download":"/download/excel/flow/summary/flowGeneralExcel.do",trend:"/flow/summary/getTrend.json","trend/download":"/download/excel/flow/summary/flowTrendExcel.do",sourceTop:"/flow/getSourceTop.json","behavior/keyword":"/flow/summary/getKeywordsFlowTop.json","behavior/itemFlowTop":"/flow/summary/getItemFlowTop.json","feature/period":"/flow/summary/getVisitorPeriodFeature.json","feature/area":"/flow/summary/getVisitorAreaFeature.json","feature/gender":"/flow/summary/getVisitorGenderFeatures.json","feature/structure":"/flow/summary/getVisitorStructureFeature.json",understand:"/flow/summary/getFlowExplanation.json"};t.get=function(e){var t=n?r:i;return t+=l[e]}},,,function(e,t,a){!function(){e.exports=window["@ali/op-base"]["@ali/sunrise"]}()},,,,,,,,,,function(e,t,a){"use strict";var n=a(1).CommonModel,r=a(1).FormatHelper,s=a(3),i=a(9);e.exports=n.extend({useCors:!0,defaults:{param:{dateType:"",dateRange:""},data:[]},url:i.get("feature/area"),parseData:function(e){if(!e)return[];var t=0,a=s.max(e,"uv");return a&&a!==-(1/0)&&(t=a.uv||0),e.forEach(function(e){var a=0;t>0&&(a=e.uv/t),a=.9*a+.1,e.uvBarWidthFmt=r.toPercentage(a),e.uvFmt=r.formatNum(e.uv),e.orderRateFmt=r.toPercentage(+e.orderRate)}),e},handleError:function(){this.set("data",{hasError:!0,_t:Date.now()})}})},,,,function(e,t,a){"use strict";var n=a(1).CommonModel,r=(a(1).Appoint,a(9));e.exports=n.extend({useCors:!0,defaults:{param:{categoryId:"",dateRange:"",dateType:"",device:"",diff:"",index:""},data:{}},url:r.get("trend"),parseData:function(e){return e},handleError:function(){this.set("data",{hasError:!0,_t:Date.now()})}})},,function(e,t,a){"use strict";var n=a(3),r=a(1).FormatHelper,s=a(1).LinkUrl,i={fmPcSelf:s["flow/flowmapPcSelf"],fmPcIndustry:s["flow/flowmapPcIndustry"],fmWirelessSelf:s["flow/flowmapWirelessSelf"],fmWirelessIndustry:s["flow/flowmapWirelessIndustry"],visitorDistribute:s["flow/visitorDistribute"]},l={uvRate:{1:['杩�7澶╄瀹�<em class="key-main num">{uv}</em>浜猴紝',"涓旀棤澧為暱杩硅薄锛�",'寤鸿鍙傝€�<a href="'+i.fmPcIndustry+'" target="_blank">鍚岃</a>',"寮曟祦妯″紡锛�","鍔犲己缁欏簵閾哄紩娴侊紒"].join(""),2:['杩�7澶╄瀹�<em class="key-main num">{uv}</em>浜猴紝','杈冧笂7澶╁鍔 <em class="key-main num">{uv_ext}</em>浜猴紝','寤鸿鍙傝€�<a href="'+i.fmPcIndustry+'" target="_blank">鍚岃</a>',"寮曟祦妯″紡锛�","鍐嶆帴鍐嶅帀锛屽姞寮虹粰搴楅摵寮曟祦锛�"].join(""),3:['鍙桺C绔�<em class="key-sub">{pc_top_src_up}</em>',"鏉ユ簮璁垮鍑忓皯",'<em class="key-main">{pc_top_src_uv_up}</em>浜虹瓑鍥犵礌褰卞搷锛�',"杩�7澶╄瀹㈡暟涓嬮檷{uv_rate}锛�",'绔嬪嵆鏌ョ湅<a href="'+i.fmPcSelf+'" target="_blank">娴侀噺鏉ユ簮</a>锛�',"瀹氫綅鍘熷洜锛�"].join(""),4:['杩�7澶╄瀹�<em class="key-main num">{uv}</em>浜猴紝','杈冧笂7澶╀笅闄�<em class="key-main num">{uv_rate}</em>锛�','绔嬪嵆鏌ョ湅<a href="'+i.fmPcSelf+'" target="_blank">娴侀噺鏉ユ簮</a>锛�',"瀹氫綅鍘熷洜锛�"].join(""),5:['鍙楁棤绾跨<em class="key-sub">{wl_top_src_up}</em>','鏉ユ簮璁垮鍑忓皯<em class="key-main">{wl_top_src_uv_up}</em>浜�',"绛夊洜绱犲奖鍝嶏紝",'杩�7澶╄瀹㈡暟涓嬮檷<em class="key-main num">{uv_rate}</em>锛�','绔嬪嵆鏌ョ湅<a href="'+i.fmWirelessSelf+'" target="_blank">娴侀噺鏉ユ簮</a>锛�',"瀹氫綅鍘熷洜锛�"].join(""),6:['杩�7澶╄瀹�<em class="key-main num">{uv}</em>浜猴紝','杈冧笂7澶╀笅闄�<em class="key-main num">{uv_rate}</em>锛�','绔嬪嵆鏌ョ湅<a href="'+i.fmWirelessSelf+'" target="_blank">娴侀噺鏉ユ簮</a>锛�',"瀹氫綅鍘熷洜锛�"].join(""),7:['寰楃泭浜嶱C绔�<em class="key-sub">{pc_top_src_dn}</em>','鏉ユ簮璁垮澧炲姞<em class="key-main">{pc_top_src_uv_dn}</em>浜�','鐨勫師鍥狅紝杩�7澶╄瀹㈡暟涓婃定<em class="key-main num">{uv_rate}</em>锛�','绔嬪嵆鏌ョ湅<a href="'+i.fmPcSelf+'" target="_blank">娴侀噺鏉ユ簮</a>锛屽畾浣嶅師鍥狅紒'].join(""),8:['杩�7澶╄瀹�<em class="key-main num">{uv}</em>浜猴紝','杈冧笂7澶╀笂娑�<em class="key-main num">{uv_rate}</em>锛�','绔嬪嵆鏌ョ湅<a href="'+i.fmPcSelf+'" target="_blank">娴侀噺鏉ユ簮</a>锛屽畾浣嶅師鍥狅紒'].join(""),9:['鍙楁棤绾跨<em class="key-sub">{wl_top_src_dn}</em>','鏉ユ簮璁垮澧炲姞<em class="key-main">{wl_top_src_uv_dn}</em>浜�','鐨勭瓑鍥犵礌褰卞搷锛岃繎7澶╄瀹㈡暟涓婃定<em class="key-main num">{uv_rate}</em>锛�','绔嬪嵆鏌ョ湅<a href="'+i.fmWirelessSelf+'" target="_blank">娴侀噺鏉ユ簮</a>锛屽畾浣嶅師鍥狅紒'].join(""),10:['杩�7澶╄瀹�<em class="key-main num">{uv}</em>浜猴紝','杈冧笂7澶╀笂娑�<em class="key-main num">{uv_rate}</em>锛�','绔嬪嵆鏌ョ湅<a href="'+i.fmWirelessSelf+'" target="_blank">娴侀噺鏉ユ簮</a>锛屽畾浣嶅師鍥狅紒'].join("")},uvFeature:{1:["鏈€杩�7澶╁簵閾烘棤浜洪棶娲ワ紝","鏉ヨ璁垮韬唤鐗瑰緛鏃犳硶璇嗗埆锛�","寤鸿鍏堝姞寮哄紩娴佸摝锛�"].join(""),2:["杩�7澶╄瀹㈤泦涓簬锛�",'<em class="key-main num">{hour}</em>','<em class="key-sub">锛堟棩鍧�<span class="key-main num">{hour_uv}</span>浜猴級</em>, ','<em class="key-main">{prov}</em>','<em class="key-sub">锛堟棩鍧�<span class="key-main num">{prov_uv}</span>浜猴級</em>锛�','<em class="key-main">{uv_type}</em>','<em class="key-sub">锛堝崰<span class="key-main num">{type_uv}</span>锛�</em>锛�',"鍙儨鏃犱汉涓嬪崟锛�",'绔嬪嵆鏌ョ湅<a href="'+i.visitorDistribute+'" target="_blank">璁垮鐗瑰緛</a>锛�',"鎻愬崌涓嬪崟杞寲锛�"].join(""),3:["杩�7澶╄瀹㈤泦涓簬锛�",'<em class="key-main num">{hour}</em>','<em class="key-sub">锛堟棩鍧�<span class="key-main num">{hour_uv}</span>浜猴級</em>, ','<em class="key-main">{prov}</em>','<em class="key-sub">锛堟棩鍧�<span class="key-main num">{prov_uv}</span>浜猴級</em>锛�','<em class="key-main">{uv_type}</em>','<em class="key-sub">锛堝崰<span class="key-main num">{type_uv}</span>锛�</em>锛�',"鍙儨鏃犱汉涓嬪崟锛�",'绔嬪嵆鏌ョ湅<a href="'+i.visitorDistribute+'" target="_blank">璁垮鐗瑰緛</a>锛�',"鎻愬崌涓嬪崟杞寲锛�"].join(""),4:["杩�7澶╄瀹㈤泦涓簬锛�",'<em class="key-main num">{hour}</em>','<em class="key-sub">锛堟棩鍧�<span class="key-main num">{hour_uv}</span>浜猴級</em>, ','<em class="key-main">{prov}</em>','<em class="key-sub">锛堟棩鍧�<span class="key-main num">{prov_uv}</span>浜猴級</em>锛�','<em class="key-main">{uv_type}</em>','<em class="key-sub">锛堝崰<span class="key-main num">{type_uv}</span>锛�</em>锛�','鏌ョ湅<a href="'+i.visitorDistribute+'" target="_blank">璁垮鐗瑰緛</a>锛�',"鎻愬崌涓嬪崟杞寲锛�"].join(""),5:["杩�7澶╄瀹㈤泦涓簬锛�",'<em class="key-main num">{hour}</em>','<em class="key-sub">锛堟棩鍧�<span class="key-main num">{hour_uv}</span>浜猴級</em>, ','<em class="key-main">{prov}</em>','<em class="key-sub">锛堟棩鍧�<span class="key-main num">{prov_uv}</span>浜猴級</em>锛�','<em class="key-main">{uv_type}</em>','<em class="key-sub">锛堝崰<span class="key-main num">{type_uv}</span>锛�</em>锛�','鏌ョ湅<a href="'+i.visitorDistribute+'" target="_blank">璁垮鐗瑰緛</a>锛�',"鎻愬崌涓嬪崟杞寲锛�"].join("")}},o={statement1:{1:["璁垮鏁颁笉缁欏姏鍝燂紒鎯冲紑鎷撴洿澶氱殑寮曟祦娓犻亾锛�","璧剁揣鐪嬬湅涓�",'<a href="'+i.fmPcIndustry+'" target="_blank">鍚岃涔嬮棿>></a>鐨勫樊璺濆惂锛�'].join(""),2:["鍚勬笭閬撴潵婧愭祦閲忎繚鎸佸钩绋筹紝涓嶈繘鍒欓€€鍟婏紒",'璧剁揣鐪嬬湅<a href="'+i.fmPcIndustry+'" target="_blank">鍚岃鎯呭喌</a>锛�',"涓哄紑鎷撴祦閲忓鍔犳柊鐐瑰瓙鍚э紒"].join(""),3:["涓嶉敊鍝︼紒鍚勬笭閬撴潵婧愮殑娴侀噺绋充腑鏈夊崌锛�",'<em class="key-main">{src_top}</em>鏈€缁欏姏锛�','甯︽潵鐨勮瀹㈡暟<em class="key-main">澧炲姞','<span class="num">{uv_ext}</span>',"涓�</em>锛�","淇濇寔鑹ソ鍔垮ご鍛€锛佽繘涓€姝ユ煡鐪嬫槑缁嗘潵婧愶紝鎵惧埌鏇村鍙獊鐮寸偣鍝︼紒"].join(""),4:['绯熺硶锛�<em class="key-main">{src_top}</em>',"甯︽潵鐨勮瀹㈡暟",'<em class="key-main">鍑忓皯','<span class="num">{uv_ext}</span>',"涓�</em>锛�","瀵瑰簵閾烘祦閲忓奖鍝嶆渶澶у摕锛�","璧剁揣鏌ョ湅鏄庣粏鏉ユ簮娴侀噺娉㈠姩锛�","瀹氫綅鍏蜂綋鍘熷洜鍝︼紒"].join(""),5:["绯熺硶锛佸悇娓犻亾鏉ユ簮鐨勬祦閲忓潎鏈夋墍涓嬮檷锛�",'<em class="key-main">{src_top}</em>鏈€鎮插墽锛�','甯︽潵鐨勮瀹㈡暟鍑忓皯<em class="key-main">{uv_ext}</em>涓紝',"璧剁揣鏌ョ湅鏄庣粏鏉ユ簮锛屽畾浣嶅叿浣撳師鍥犲憖锛�"].join("")},statement2:{1:['<em class="key-main">{src_top}</em>',"鐨勬祦閲忛兘琚悓琛屾姠鍏夊暒锛屽鍜卞簵閾哄嵈姣棤璐＄尞锛�",'璧剁揣浜嗚В<a href="'+i.fmPcIndustry+'" target="_blank">鍚岃</a>',"璇ョ被鏉ユ簮鐨勭粏鍒嗘暟鎹紝琛ヤ笂杩欏潡娴侀噺鐭澘鍝︼紒"].join(""),2:["灏氭湁閮ㄥ垎鏉ユ簮鏈兘甯︽潵璁垮锛�",'璧剁揣鍙傝€�<a href="'+i.fmPcIndustry+'" target="_blank">鍚岃</a>寮曟祦鎯呭喌锛�',"鎷撳睍寮曟祦娓犻亾鍝︼紒"].join(""),3:["鍏ㄩ潰寮€鑺憋紝鍚勬潵婧愬潎涓哄簵閾鸿础鐚簡娴侀噺锛�","瑕佺户缁繚鎸佸摝锛佽繘涓€姝ユ煡鐪嬪悇鏉ユ簮鏄庣粏鍚э紒"].join("")},statement3:{1:["搴楅摵鏀惰棌鏉ユ簮鐨勮瀹㈡暟",'<em class="key-main">鍑忓皯{uv_ext}涓�</em>锛�',"寤鸿閫氳繃鏀惰棌鏈夌ぜ绛夋椿鍔ㄥ姞寮哄簵閾哄拰鍟嗗搧鐨勬敹钘忔帹骞�"].join(""),2:["寮€杞︿笉缁欏姏鍝︼紒",'<em class="key-main">鐩撮€氳溅</em>甯︽潵鐨勮瀹㈡暟','鍑忓皯<em class="key-main">{uv_ext}</em>涓紝',"寤鸿閫夋嫨鍚堥€傜殑鍏抽敭璇嶃€佸悎鐞嗙殑鍑轰环杩涜鐩撮€氳溅鎺ㄥ箍銆�",'鏌ョ湅<a href="'+i.visitorDistribute+'" target="_blank">璁垮鏉ユ簮top鍏抽敭璇�</a>'].join(""),3:['<em class="key-main">閽荤煶灞曚綅</em>涓嶅鎵庝汉鐪煎晩锛�','甯︽潵鐨勮瀹㈡暟<em class="key-main">鍑忓皯{uv_ext}涓�</em>锛�',"寤鸿閫夋嫨鍚堥€傜殑浣嶇疆銆佹椂闂淬€佷汉缇よ繘琛屾姇鏀俱€�",'鏌ョ湅<a href="'+i.visitorDistribute+'" target="_blank">璁垮鐗瑰緛</a>'].join(""),4:['鎮插偓锛�<em class="key-main">娣樺疂瀹�</em>甯︽潵鐨勮瀹㈡暟','<em class="key-main">鍑忓皯{uv_ext}涓�</em>锛�',"寤鸿璁剧疆鍚堥€傜殑浣ｉ噾姣斾緥锛屽惛寮曟洿澶氱殑鎺ㄥ箍浠ヨ幏鍙栨祦閲忋€�",'<a href="http://ad.alimama.com/myunion.htm" target="_blank">',"鏌ョ湅璇︽儏>>","</a>"].join(""),5:['<em class="key-main">鑱氬垝绠�</em>甯︽潵鐨勮瀹㈡暟','鍑忓皯<em class="key-main">{uv_ext}</em>涓紝','寤鸿鎬荤粨缁忛獙锛屽垎鏋�<a href="'+i.visitorDistribute+'" target="_blank">璁垮鐗瑰緛</a>锛�',"鍋氬ソ閽堝鎬ц惀閿€"].join(""),6:["鍏朵粬搴楅摵甯︽潵鐨勮瀹㈡暟",'<em class="key-main">鍑忓皯{uv_ext}涓�</em>锛�',"浜诧紝鍑洪棬鍦ㄥ锛岃繕鏄骞夸氦鏈嬪弸鍝堬紒鍔犲己鍜屽叾浠栧簵閾虹殑鍙嬫儏浜掗摼鍝︼紒"].join(""),7:['<em class="key-main">娣樺疂娲诲姩</em>甯︽潵鐨勮瀹㈡暟','<em class="key-main">鍑忓皯{uv_ext}涓�</em>锛�',"闇€瑕佺Н鏋佸弬鍔犳窐瀹濈殑涓撻淇冮攢娲诲姩绛夌殑鎺ㄥ箍鍝︼紒"].join(""),8:['<em class="key-main">澶╃尗娲诲姩</em>甯︽潵鐨勮瀹㈡暟','<em class="key-main">鍑忓皯{uv_ext}涓�</em>锛�',"闇€瑕佺Н鏋佸弬鍔犵浉鍏崇殑澶╃尗涓撻娲诲姩绛夌殑鎺ㄥ箍鍝︼紒"].join(""),9:['<em class="key-main">娣樺疂鎼滅储</em>','甯︽潵鐨勮瀹㈡暟<em class="key-main">鍑忓皯{uv_ext}涓�</em>锛�',"鍏嶈垂鐨勭簿鍑嗘祦閲忥紝鍙緱閲嶈鍟婏紒",'璧剁揣鏌ョ湅<a href="'+i.visitorDistribute+'" target="_blank">璁垮鏉ユ簮鍏抽敭璇�</a>锛�',"鍋氬ソ鍟嗗搧鎼滅储浼樺寲锛屾彁鍗囨帓鍚嶅摝锛�"].join("")}},c={statement1:{1:["鏃犵嚎绔殑璁垮鏁颁笉缁欏姏鍝燂紒","鎯冲紑鎷撴洿澶氱殑寮曟祦娓犻亾锛�",'璧剁揣鐪嬬湅涓�<a href="'+i.fmWirelessIndustry+'" target="_blank">鍚岃涔嬮棿</a>鐨勫樊璺濆惂>>'].join(""),2:["鍚勬笭閬撴潵婧愭祦閲忎繚鎸佸钩绋筹紝涓嶈繘鍒欓€€鍟婏紒",'璧剁揣鐪嬬湅<a href="'+i.fmWirelessIndustry+'" target="_blank">鍚岃</a>鎯呭喌锛屼负寮€鎷撴祦閲忓鍔犳柊鐐瑰瓙鍚э紒'].join(""),3:["涓嶉敊鍝︼紒鍚勬笭閬撴潵婧愮殑娴侀噺绋充腑鏈夊崌锛�",'<em class="key-main">{src_top}</em>鏈€缁欏姏锛�','甯︽潵鐨勮瀹㈡暟<em class="key-main">澧炲姞{uv_ext}涓�</em>锛�',"淇濇寔鑹ソ鍔垮ご鍛€锛佽繘涓€姝ユ煡鐪嬫槑缁嗘潵婧愶紝","鎵惧埌鏇村鍙獊鐮寸偣鍝︼紒"].join(""),4:['绯熺硶锛�<em class="key-main">{src_top}</em>甯︽潵鐨勮瀹㈡暟','<em class="key-main">鍑忓皯{uv_ext}涓�</em>锛�',"瀵瑰簵閾烘祦閲忓奖鍝嶆渶澶у摕锛岃刀绱ф煡鐪嬫槑缁嗘潵婧愭祦閲忔尝鍔紝","瀹氫綅鍏蜂綋鍘熷洜鍝�"].join(""),5:["绯熺硶锛佸悇娓犻亾鏉ユ簮鐨勬祦閲忓潎鏈夋墍涓嬮檷锛�",'<em class="key-main">{src_top}</em>鏈€鎮插墽锛�','甯︽潵鐨勮瀹㈡暟<em class="key-main">鍑忓皯{uv_ext}涓�</em>锛�',"璧剁揣鏌ョ湅鏄庣粏鏉ユ簮锛屽畾浣嶅叿浣撳師鍥犲憖锛�"].join("")},statement2:{1:['<em class="key-main">{src_top}</em>鐨勬祦閲忛兘琚悓琛屾姠鍏夊暒锛�',"瀵瑰挶搴楅摵鍗存鏃犺础鐚紒","璧剁揣浜嗚В鍚岃璇ョ被鏉ユ簮鐨勭粏鍒嗘暟鎹紝","琛ヤ笂杩欏潡娴侀噺鐭澘鍝︼紒"].join(""),2:["灏氭湁閮ㄥ垎鏉ユ簮鏈兘甯︽潵璁垮锛�","璧剁揣鍙傝€冨悓琛屽紩娴佹儏鍐碉紝鎷撳睍寮曟祦娓犻亾鍝︼紒"].join(""),3:["鍏ㄩ潰寮€鑺憋紝鍚勬潵婧愬潎涓哄簵閾鸿础鐚簡娴侀噺锛岃缁х画淇濇寔鍝︼紒","杩涗竴姝ユ煡鐪嬪悇鏉ユ簮鏄庣粏鍚�"].join("")},statement3:{1:["鎴戠殑娣樺疂鏉ユ簮鐨勮瀹㈡暟",'<em class="key-main">鍑忓皯{uv_ext}涓�</em>锛�',"寤鸿閫氳繃鏀惰棌鏈夌ぜ绛夋椿鍔ㄥ姞寮哄簵閾哄拰鍟嗗搧鐨勬敹钘忔帹骞�"].join(""),2:["寮€杞︿笉缁欏姏鍝︼紒","鐩撮€氳溅甯︽潵鐨勮瀹㈡暟",'<em class="key-main">鍑忓皯{uv_ext}涓�</em>锛�',"寤鸿閫夋嫨鍚堥€傜殑鍏抽敭璇嶃€佸悎鐞嗙殑鍑轰环杩涜鐩撮€氳溅鎺ㄥ箍銆�",'鏌ョ湅<a href="'+i.visitorDistribute+'" target="_blank">璁垮鏉ユ簮top鍏抽敭璇�</a>'].join(""),3:["閽荤煶灞曚綅涓嶅鎵庝汉鐪煎晩锛�","甯︽潵鐨勮瀹㈡暟",'<em class="key-main">鍑忓皯{uv_ext}涓�</em>锛�',"寤鸿閫夋嫨鍚堥€傜殑浣嶇疆銆佹椂闂淬€佷汉缇よ繘琛屾姇鏀俱€�",'鏌ョ湅<a href="'+i.visitorDistribute+'" target="_blank">璁垮鐗瑰緛</a>'].join(""),4:["鎮插偓锛佹窐瀹濆甯︽潵鐨勮瀹㈡暟",'<em class="key-main">鍑忓皯{uv_ext}涓�</em>锛�',"寤鸿璁剧疆鍚堥€傜殑浣ｉ噾姣斾緥锛屽惛寮曟洿澶氱殑鎺ㄥ箍浠ヨ幏鍙栨祦閲忋€�",'<a href="http://ad.alimama.com/myunion.htm" target="_blank">',"鏌ョ湅璇︽儏>>","</a>"].join(""),5:["鑱氬垝绠楀甫鏉ョ殑璁垮鏁�",'<em class="key-main">鍑忓皯{uv_ext}涓�</em>锛�','寤鸿鎬荤粨缁忛獙锛屽垎鏋�<a href="'+i.visitorDistribute+'" target="_blank">璁垮鐗瑰緛</a>锛屽仛濂介拡瀵规€ц惀閿€'].join(""),6:["瀵艰喘棰戦亾甯︽潵鐨勮瀹㈡暟",'<em class="key-main">鍑忓皯{uv_ext}涓�</em>锛�',"浜诧紝娉ㄦ剰鍦ㄦ窐閲戝竵銆佸ぉ澶╃壒浠枫€佹窐瀹濇竻浠撶瓑棰戦亾涓婂姞寮烘帹骞垮摝锛�"].join(""),7:["娣樺疂娲诲姩甯︽潵鐨勮瀹㈡暟",'<em class="key-main">鍑忓皯{uv_ext}涓�</em>锛�',"闇€瑕佺Н鏋佸弬鍔犳窐瀹濈殑涓撻淇冮攢娲诲姩绛夌殑鎺ㄥ箍鍝︼紒"].join(""),8:["澶╃尗娲诲姩甯︽潵鐨勮瀹㈡暟",'<em class="key-main">鍑忓皯{uv_ext}涓�</em>锛�',"闇€瑕佺Н鏋佸弬鍔犵浉鍏崇殑澶╃尗涓撻娲诲姩绛夌殑鎺ㄥ箍鍝︼紒"].join(""),9:["娣樺疂鎼滅储甯︽潵鐨勮瀹㈡暟",'<em class="key-main">鍑忓皯{uv_ext}涓�</em>锛�',"鍏嶈垂鐨勭簿鍑嗘祦閲忥紝鍙緱閲嶈鍟婏紒","璧剁揣鏌ョ湅",'<a href="'+i.visitorDistribute+'" target="_blank">璁垮鏉ユ簮鍏抽敭璇�</a>锛�',"鍋氬ソ鍟嗗搧鎼滅储浼樺寲锛屾彁鍗囨帓鍚嶅摝锛�"].join("")}},d={1:o,2:c},m={getFlowSourceTitles:function(){return{statement1:"涓€绾ф潵婧愯В璇�",statement2:"鍚岃瀵规瘮瑙ｈ",statement3:"浜岀骇鏉ユ簮瑙ｈ"}},getFlowIndexTitles:function(){return{uvRate:"璁垮娉㈠姩瑙ｈ",uvFeature:"璁垮鐗瑰緛瑙ｈ"}},getFlowSourceTpl:function(e,t,a){var r=d[e][t][a.id],s=null;return n.isEmpty(r)||(s=this.processTpl(r,a)),s},getFlowIndexTpl:function(e,t){var a=l[e][t.id],r=null;return n.isEmpty(a)||(r=this.processTpl(a,t)),r},processTpl:function(e,t){var a=t.values,r=this;return!n.isEmpty(a)&&a.length>0&&a.forEach(function(t){var a=r.filterValue(t.name,t.value);e=e.replace("{"+t.name+"}",a)}),e},filterValue:function(e,t){switch(e){case"hour":t=t+":00-"+t+":59";break;case"hour_uv":case"prov_uv":case"uv":case"uv_ext":case"wl_top_src_uv_up":case"wl_top_src_uv_dn":case"pc_top_src_uv_up":case"pc_top_src_uv_dn":t=t?Math.abs(t):0,t=t?r.formatNum(parseInt(t)):0;break;case"type_uv":case"uv_rate":case"uv_ext_rate":t=t?Math.abs(t):0,t=t?r.toPercentage(parseFloat(t),"%"):"0%"}return t}};e.exports=m},,,,,,,,,,,,function(e,t,a){"use strict";var n=a(1).CommonModel,r=(a(1).Appoint,a(1).FormatHelper),s=(a(3),a(9));e.exports=n.extend({useCors:!0,defaults:{param:{device:"",dateType:"",dateRange:""},data:[]},url:s.get("behavior/itemFlowTop"),parseData:function(e){return e?(e.forEach(function(e){e.uvFmt=r.formatNum(e.uv),e.orderRateFmt=r.toPercentage(e.orderRate)}),e.slice(0,3)):[]},handleError:function(){this.set("data",{hasError:!0,_t:Date.now()})}})},function(e,t,a){"use strict";var n=a(1).CommonModel,r=(a(1).Appoint,a(1).FormatHelper),s=a(3),i=a(9);e.exports=n.extend({useCors:!0,defaults:{param:{device:"",dateType:"",dateRange:""},data:[]},url:i.get("behavior/keyword"),parseData:function(e){if(!e)return[];var t=0,a=s.max(e,"uv");return a&&a!==-(1/0)&&(t=a.uv||0),e.forEach(function(e){var a=0;t>0&&(a=e.uv/t),a=.9*a+.1,e.uvBarWidthFmt=r.toPercentage(a),e.uvFmt=r.formatNum(e.uv),e.seLeOrderRateFmt=r.toPercentage(e.seLeOrderRate)}),e.slice(0,5)},handleError:function(){this.set("data",{hasError:!0,_t:Date.now()})}})},function(e,t,a){"use strict";var n=a(1).CommonModel,r=a(9);e.exports=n.extend({useCors:!0,defaults:{param:{dateType:"",dateRange:"",device:"0",deviceLogicType:"1"},data:{}},url:r.get("understand"),parseData:function(e){return e},handleError:function(){this.set("data",{hasError:!0,_t:Date.now()})}})},function(e,t,a){"use strict";var n=a(1).CommonModel,r=a(9);e.exports=n.extend({useCors:!0,defaults:{param:{dateType:"",dateRange:"",device:""},data:{}},url:r.get("general"),parseData:function(e){return e},handleError:function(){this.set("data",{hasError:!0,_t:Date.now()})}})},function(e,t,a){"use strict";var n=a(1).CommonModel,r=a(1).FormatHelper,s=a(3),i=a(9);e.exports=n.extend({useCors:!0,defaults:{param:{dateType:"",dateRange:"",top:10},data:{}},url:i.get("sourceTop"),getMax:function(e,t){if(s.isEmpty(e))return null;var a=s.max(e,function(e){return e[t].uv});return a?a[t]&&a[t].uv:0},parseData:function(e){if(!e)return{};var t={pc:{self:"",diff:""},wireless:{self:"",diff:""}};return t.pc.self=this.getMax(e.pc,"self"),t.pc.diff=this.getMax(e.pc,"diff"),t.wireless.self=this.getMax(e.wireless,"self"),t.wireless.diff=this.getMax(e.wireless,"diff"),t.pc.value=s.max([t.pc.self,t.pc.diff])||0,t.wireless.value=s.max([t.wireless.self,t.wireless.diff])||0,Object.keys(e).forEach(function(a){var n=e[a];s.isArray(n)&&n.forEach(function(e){Object.keys(e).forEach(function(n){var s=e[n];if(null!=s.orderRate&&(s.orderRateFmt=r.toPercentage(s.orderRate)),null!=s.orderRateChangeRate&&(s.orderRateChangeRateFmt=r.toPercentage(Math.abs(s.orderRateChangeRate),"%",1e3)),null!=s.uv){var i=0;t[a].value>0&&(i=s.uv/t[a].value),i=.9*i+.1,s.uvBarWidthFmt=r.toPercentage(i),s.uvFmt=r.formatNum(s.uv)}})})}),e},handleError:function(){this.set("data",{hasError:!0,_t:Date.now()})}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var n=a(2),r=(a(3),a(1).Appoint,a(1).Message,a(1).ExSwitchItem),s=a(1).ExSwitch,i=(a(9),a(1).CommonViewMixin,a(93)),l=a(94),o=a(40),c=a(41),d="1";e.exports=n.createClass({displayName:"exports",propTypes:{dateType:n.PropTypes.string.isRequired,dateRange:n.PropTypes.string.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){return{device:d}},componentWillMount:function(){this._keywordModel=new c,this._itemTopModel=new o},componentWillUnmount:function(){this._keywordModel.off(),this._itemTopModel.off(),delete this._keywordModel,delete this._itemTopModel},handleDeviceChange:function(e){this.setState({device:e.activeIndex+1+""})},render:function(){return n.createElement("div",{className:"flow-index-behavior"},n.createElement("div",{className:"navbar"},n.createElement("h4",{className:"navbar-header"},n.createElement("i",{className:"icon-title"}),"璁垮琛屼负"),n.createElement("div",{className:"operation-btns pull-right"},n.createElement(s,{className:"btn-group-switch",activeIndex:+this.state.device-1,onSwitch:this.handleDeviceChange},n.createElement(r,null,"PC"),n.createElement(r,null,"鏃犵嚎")))),n.createElement("div",{className:"content"},n.createElement(l,{device:this.state.device,model:this._keywordModel,dateRange:this.props.dateRange,dateType:this.props.dateType}),n.createElement(i,{device:this.state.device,model:this._itemTopModel,dateRange:this.props.dateRange,dateType:this.props.dateType})))}})},function(e,t,a){"use strict";var n=a(2),r=a(3),s=a(1).Appoint,i=(a(1).Message,a(1).CommonViewMixin),l=a(42),o=a(1).ExDatePickerHelper,c=a(28);e.exports=n.createClass({displayName:"exports",mixins:[c,i],propTypes:{model:n.PropTypes.instanceOf(l).isRequired},getDefaultProps:function(){return{}},getInitialState:function(){return{data:{}}},componentDidMount:function(){this.props.model.changeParam({dateType:"recent7",dateRange:o.getDateRangeStr(s.dtUpdateDay,"recent7")})},_reRender:function(){this.setState({isLoading:!1,data:this.props.model.get("data")||{}})},renderData:function(e,t,a){return n.createElement("div",{className:"data-desc-box two-column",key:a},n.createElement("div",{className:"data-desc-header"},n.createElement("h4",{className:"title"},e)),n.createElement("div",{className:"data-desc-content"},n.createElement("p",{dangerouslySetInnerHTML:{__html:t}})))},renderContent:function(e){var t=this,a=[],n=t.getFlowIndexTitles();for(var s in n){var i=e[s];if(i){var l=t.getFlowIndexTpl(s,i);if(!r.isEmpty(l)){var o=t.renderData(n[s],l,s);a.push(o)}}}return a},render:function(){var e=this.state.data;return n.createElement("div",{className:"flow-index-data-explanation"},n.createElement("div",{className:"data-desc data-desc-tail"},n.createElement("span",{className:"data-desc-icon7"}),n.createElement("div",{className:"data-desc-panel"},e?this.renderContent(e):null)))}})},function(e,t,a){"use strict";var n=a(2),r=(a(3),a(1).Appoint,a(1).Message,a(1).ExSwitchItem),s=a(1).ExSwitch,i=(a(9),a(1).CommonViewMixin,a(95)),l=a(97),o=a(98),c=a(99),d=a(22),m=a(103),p=a(104),u=a(105),h="1";e.exports=n.createClass({displayName:"exports",propTypes:{dateType:n.PropTypes.string.isRequired,dateRange:n.PropTypes.string.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){return{device:h}},componentWillMount:function(){this._areaModel=new d,this._periodModel=new p,this._genderModel=new m,this._structureModel=new u},componentWillUnmount:function(){this._areaModel.off(),this._periodModel.off(),this._genderModel.off(),this._structureModel.off(),delete this._areaModel,delete this._periodModel,delete this._genderModel,delete this._structureModel},handleDeviceChange:function(e){this.setState({device:e.activeIndex+1+""})},render:function(){return n.createElement("div",{className:"flow-index-feature"},n.createElement("div",{className:"navbar"},n.createElement("h4",{className:"navbar-header"},n.createElement("i",{className:"icon-title"}),"璁垮鐗瑰緛"),n.createElement("div",{className:"operation-btns pull-right"},n.createElement(s,{className:"btn-group-switch",activeIndex:+this.state.device-1,onSwitch:this.handleDeviceChange},n.createElement(r,null,"PC"),n.createElement(r,null,"鏃犵嚎")))),n.createElement("div",{className:"content"},n.createElement(o,{model:this._periodModel,device:this.state.device,dateRange:this.props.dateRange,dateType:this.props.dateType}),n.createElement(i,{model:this._areaModel,device:this.state.device,dateRange:this.props.dateRange,dateType:this.props.dateType}),n.createElement(c,{model:this._structureModel,device:this.state.device,dateRange:this.props.dateRange,dateType:this.props.dateType}),n.createElement(l,{model:this._genderModel,device:this.state.device,dateRange:this.props.dateRange,dateType:this.props.dateType})))}})},function(e,t,a){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(2),s=(a(3),a(1).Appoint,a(1).Message),i=a(1).Download,l=a(1).ExSwitchItem,o=a(1).FormatHelper,c=a(1).ExSwitch,d=a(9),m=a(1).CommonViewMixin,p=a(100),u=a(43),h=a(1).NounMap,f=0;e.exports=r.createClass({displayName:"exports",mixins:[m],propTypes:{dateType:r.PropTypes.string,dateRange:r.PropTypes.string,model:r.PropTypes.instanceOf(u).isRequired},getInitialState:function(){return this._downloadParam={baseUrl:d.get("general/download"),param:{device:{isDescription:!0,isRequestParam:!1,descriptionName:"鎵€鏈夌粓绔�"},dateType:{requestValue:this.props.dateType,isDescription:!0,isRequestParam:!0,descriptionName:h.getDtPickerName(this.props.dateType)},dateRange:{requestValue:this.props.dateRange,isDescription:!1,isRequestParam:!0}}},{device:f,data:{}}},componentDidMount:function(){this.props.model.changeParam({device:this.state.device,dateType:this.props.dateType,dateRange:this.props.dateRange})},componentWillReceiveProps:function(e){this.props.model.changeParam({dateType:e.dateType,dateRange:e.dateRange}),this._downloadParam.param.dateType.requestValue=e.dateType,this._downloadParam.param.dateType.descriptionName=h.getDtPickerName(e.dateType),this._downloadParam.param.dateRange.requestValue=e.dateRange},_reRender:function(){this.setState({isLoading:!1,data:this.props.model.get("data")})},handleDeviceChange:function(e){this.setState({device:e.activeIndex}),this.props.model.changeParam({device:e.activeIndex})},hasError:function(){return this.props.model.get("data").hasError},renderMessage:function(){return this.state.isLoading?r.createElement(s,{type:"loading",hasMask:!0}):this.hasError()?r.createElement(s,{type:"error",hasMask:!0}):void 0},renderIndices:function(){var e=this.state.data,t=e.uv,a=e.pv,s=e.bounceRate,i=e.avgPv,l=e.avgStayTime,c={dateType:this.props.dateType,dateRange:this.props.dateRange};return t&&a&&s&&i&&l&&!this.hasError()?r.createElement("ul",{className:"data-indices"},r.createElement(p,n({index:"uv",value:o.formatNum(t.value),rate:t.rate},c)),r.createElement(p,n({index:"pv",value:o.formatNum(a.value),rate:a.rate},c)),r.createElement(p,n({index:"bounceRate",value:o.toPercentage(s.value),rate:s.rate},c)),r.createElement(p,n({index:"avgPv",value:o.formatNum(i.value,2),rate:i.rate},c)),r.createElement(p,n({index:"avgStayTime",value:o.formatNum(l.value,0),rate:l.rate},c))):void 0},render:function(){this.state.data;return r.createElement("div",{className:"flow-index-general"},r.createElement("div",{className:"navbar"},r.createElement("h4",{className:"navbar-header"},r.createElement("i",{className:"icon-title"}),"娴侀噺鎬昏"),r.createElement("div",{className:"operation-btns pull-right"},r.createElement(c,{className:"btn-group-switch",activeIndex:this.state.device,onSwitch:this.handleDeviceChange},r.createElement(l,null,"鍏ㄩ儴"),r.createElement(l,null,"PC"),r.createElement(l,null,"鏃犵嚎")),r.createElement(i,{baseUrl:this._downloadParam.baseUrl,downloadParam:this._downloadParam.param,hasDescription:!0}))),r.createElement("div",{className:"content"},this.renderIndices(),this.renderMessage()))}})},function(e,t,a){"use strict";var n=a(2),r=(a(3),a(1).Appoint,a(1).Message,a(9),a(1).CommonViewMixin,a(44),a(1).NounMap,a(1).LinkUrl),s=a(4).Classable.getClasses,i=a(1).ExOverlayTrigger,l=a(1).ExTips,o=a(101);e.exports=n.createClass({displayName:"exports",propTypes:{dateType:n.PropTypes.string.isRequired,dateRange:n.PropTypes.string.isRequired},getInitialState:function(){return{data:{}}},renderCaption:function(){return n.createElement("div",{className:"table-caption-bar"},n.createElement("span",{className:"self-bar"}),n.createElement("span",{className:"self-text"},"鏈簵"),n.createElement("span",{className:"diff-bar"}),n.createElement("span",{className:"diff-text"},"鍚岃浼樼"))},renderTableHeader:function(){return n.createElement("ul",{className:"table-header"},n.createElement("li",{className:"name"},"浜岀骇鏉ユ簮"),n.createElement("li",{className:"value"}),n.createElement("li",{className:"bar"},"璁垮鏁帮紙浜猴級"),n.createElement("li",{className:"rate"},"涓嬪崟杞寲鐜�"))},renderCaution:function(e){return n.createElement(i,{trigger:"hover",overlay:n.createElement(l,{arrowPlacement:["top","center"],className:"fluctuate-tips"},n.createElement("span",{className:"tip-content"},"璇ユ寚鏍囨尝鍔ㄨ秴杩�30%锛岃鍏虫敞锛�"))},n.createElement("i",{className:"icon-info"}))},renderTableBody:function(e,t){var a="PC"===t?1:2,s=e.map(function(e,t){var s=r["flow/flowSourceDetail"]+"#/?device="+a+"&deviceLogicType="+a+"&sourceIds="+parseInt(e.id)+","+e.id+"&cateId=0&sourceDataType=0&childPageType="+(1===a?"url":"")+"&isLeaf=true";return n.createElement("li",{key:"item-"+t},n.createElement("span",{className:"cell name text-truncate"},n.createElement("a",{href:s,target:"_blank"},e.name)),n.createElement("span",{className:"cell value"},n.createElement("p",{className:"self num"},e.self.uvFmt),n.createElement("p",{className:"diff num"},e.diff.uvFmt)),n.createElement("span",{className:"cell bar"},n.createElement("p",{className:"self bar-line",style:{width:e.self.uvBarWidthFmt}}),n.createElement("p",{className:"diff bar-line",style:{width:e.diff.uvBarWidthFmt}})),n.createElement("span",{className:"cell rate"},n.createElement("p",{className:"self error"},n.createElement("span",{className:"num"},e.self.orderRateFmt),this.renderCaution(e.self.orderRate)),n.createElement("p",{className:"diff"},n.createElement("span",{className:"num"},e.diff.orderRateFmt),this.renderCaution(e.diff.orderRate))))},this);return n.createElement("ul",{className:"table-body"},s)},renderDevice:function(e){var t=e+"娴侀噺鏉ユ簮TOP10",a=s({"two-columns":!0,"left-column":"PC"===e,"right-column":"PC"!==e}),i=r["flow/flowMap"]+"#/?device="+("PC"===e?1:2),l="PC"===e?this.state.data.pc:this.state.data.wireless;return l=l||[],n.createElement("div",{className:a},n.createElement("div",{className:"sub-header"},n.createElement("a",{className:"ui-link",href:i,target:"_blank"},"娴侀噺鍦板浘"),n.createElement("h5",null,n.createElement("span",null,t))),n.createElement("div",{className:"table table-diff"},this.renderCaption(),this.renderTableHeader(),this.renderTableBody(l,e)))},render:function(){return n.createElement("div",{className:"flow-index-source"},n.createElement("div",{className:"navbar"},n.createElement("h4",{className:"navbar-header"},n.createElement("i",{className:"icon-title"}),"娴侀噺鏉ユ簮鎺掕")),n.createElement("div",{className:"content"},n.createElement(o,{device:"1",dateType:this.props.dateType,dateRange:this.props.dateRange}),n.createElement(o,{device:"2",dateType:this.props.dateType,dateRange:this.props.dateRange})))}})},function(e,t,a){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(2),s=a(3),i=(a(1).Appoint,a(1).Message),l=a(1).Download,o=(a(1).ExSwitchItem,a(1).ExSwitch,a(1).CommonChart),c=a(9),d=a(1).CommonViewMixin,m=a(26),p=a(1).ComboPanel,u=a(1).ExOverlayMixin,h=a(102),f=a(1).NounMap,v=a(1).CommonChartHelper,g=["0"],y=["uv","pv"],E=4,w={0:"鎵€鏈夌粓绔�",1:"PC绔�",2:"鏃犵嚎绔�"},D=[{name:"缁堢",value:"device",items:[{name:"鎵€鏈夌粓绔�",value:"0",isSelected:g.indexOf("0")>-1},{name:"PC绔�",value:"1",isSelected:g.indexOf("1")>-1},{name:"鏃犵嚎绔�",value:"2",isSelected:g.indexOf("2")>-1}]}],N=[{name:"鎸囨爣",value:"index",items:[{name:f.getIndexName("uv"),value:"uv",isSelected:y.indexOf("uv")>-1},{name:f.getIndexName("pv"),value:"pv",isSelected:y.indexOf("pv")>-1},{name:f.getIndexName("bounceRate"),value:"bounceRate",isSelected:y.indexOf("bounceRate")>-1},{name:f.getIndexName("avgPv"),value:"avgPv",isSelected:y.indexOf("avgPv")>-1},{name:f.getIndexName("avgStayTime"),value:"avgStayTime",isSelected:y.indexOf("avgStayTime")>-1}]}],b=s.cloneDeep(D),x=s.cloneDeep(N);e.exports=r.createClass({displayName:"exports",mixins:[u,d],propTypes:{dateType:r.PropTypes.string.isRequired,dateRange:r.PropTypes.string.isRequired,originalDateType:r.PropTypes.string.isRequired,originalDateRange:r.PropTypes.string.isRequired,model:r.PropTypes.instanceOf(m).isRequired},getDefaultProps:function(){return{}},getDownloadDateType:function(e){switch(e){case"recent1":case"recent7":case"recent30":return"recent30";default:return e}},getInitialState:function(){return this._downloadParam={baseUrl:c.get("trend/download"),param:{index:{isDescription:!0,isRequestParam:!1,descriptionName:"鎵€鏈夋寚鏍�"},device:{isDescription:!0,isRequestParam:!1,descriptionName:"鎵€鏈夌粓绔�"},dateType:{requestValue:this.props.dateType,isDescription:!0,isRequestParam:!0,descriptionName:f.getDtPickerName(this.getDownloadDateType(this.props.originalDateType))},dateRange:{requestValue:this.props.dateRange,isDescription:!1,isRequestParam:!0}}},{isDialogActive:!1,selectedDevices:g,selectedIndices:y,data:{}}},componentDidMount:function(){this.props.model.changeParam({diff:"0",device:this.state.selectedDevices.join(","),index:this.state.selectedIndices.join(","),dateType:this.props.dateType,dateRange:this.props.dateRange})},componentWillReceiveProps:function(e){this.props.model.changeParam({dateType:e.dateType,dateRange:e.dateRange}),this._downloadParam.param.dateType.requestValue=e.dateType,this._downloadParam.param.dateType.descriptionName=f.getDtPickerName(this.getDownloadDateType(e.originalDateType)),this._downloadParam.param.dateRange.requestValue=e.dateRange},_reRender:function(){this.setState({isLoading:!1,data:this.props.model.get("data")})},hideDialog:function(){this.setState({isDialogActive:!1})},handleIndexChange:function(e){var t=this;this.setState({selectedIndices:e.split("=")[1].split(",")},function(){t.props.model.changeParam({index:t.state.selectedIndices.join(",")})})},handleIndexBeforeSelect:function(e){var t=this.state.selectedDevices.length,a=this.state.selectedIndices.length;return a+=e.isSelected?-1:1,t*a>0&&E>=t*a},handleDeviceBeforeSelect:function(e){var t=this.state.selectedDevices.length,a=this.state.selectedIndices.length;return t+=e.isSelected?-1:1,t*a>0&&E>=t*a},handleDeviceChange:function(e){var t=this;this.setState({selectedDevices:e.split("=")[1].split(",")},function(){t.props.model.changeParam({device:t.state.selectedDevices.join(",")})})},renderSelectedIndices:function(){var e=[],t=0;return this.state.selectedDevices.map(function(a){this.state.selectedIndices.forEach(function(n){e.push(r.createElement("span",{
key:"id-"+a+"-"+n,className:"bordered-tag",style:{borderColor:f.indexColors[t],color:f.chartColors[t]}},w[a]+"-"+f.getIndexName(n))),t++},this)},this),e},handleReset:function(e){var t=this;this.setState({selectedIndices:y,selectedDevices:g},function(){t.props.model.changeParam({device:t.state.selectedDevices.join(","),index:t.state.selectedIndices.join(",")})}),D=b,N=x,b=s.cloneDeep(b),x=s.cloneDeep(x),e.preventDefault()},handleOpenCompare:function(e){this.setState({isDialogActive:!0}),e.preventDefault()},renderOverlay:function(){return r.createElement(h,{isActive:this.state.isDialogActive,devices:this.state.selectedDevices,indices:this.state.selectedIndices,dateType:this.props.dateType,dateRange:this.props.dateRange,originalDateType:this.props.originalDateType,originalDateRange:this.props.originalDateRange,onRequestHide:this.hideDialog})},filterData:function(){var e=[];return this.state.selectedDevices.forEach(function(t){this.state.selectedIndices.forEach(function(a){((this.state.data||{}).self||[]).forEach(function(n){n.device===t&&n.hasOwnProperty(a)&&e.push(n)},this)},this)},this),{self:e}},hasError:function(){return this.props.model.get("data").hasError},isEmpty:function(){return!1},renderMessage:function(){return this.state.isLoading?r.createElement(i,{type:"loading",hasMask:!0}):this.hasError()?r.createElement(i,{type:"error",hasMask:!0}):this.isEmpty()?r.createElement(i,{type:"empty"}):void 0},render:function(){var e=this.state.selectedIndices.length*this.state.selectedDevices.length;return 3===this.state.selectedDevices.length&&(e=4),r.createElement("div",{className:"flow-index-trend"},r.createElement("div",{className:"navbar"},r.createElement("h4",{className:"navbar-header"},r.createElement("i",{className:"icon-title"}),"娴侀噺瓒嬪娍"),r.createElement("div",{className:"operation-btns pull-right"},r.createElement(l,{baseUrl:this._downloadParam.baseUrl,downloadParam:this._downloadParam.param,hasDescription:!0}))),r.createElement("div",{className:"content"},r.createElement("div",{className:"combopanels-container"},r.createElement(p,{dataGroups:D,className:"inline-combopanel",minCnt:1,hasMessage:!1,returnType:"string",beforeSelect:this.handleDeviceBeforeSelect,onSelect:this.handleDeviceChange}),r.createElement(p,{dataGroups:N,className:"inline-combopanel",minCnt:1,hasMessage:!1,returnType:"string",beforeSelect:this.handleIndexBeforeSelect,onSelect:this.handleIndexChange})),r.createElement("div",{className:"operations pull-right"},r.createElement("a",{className:"btn btn-link",href:"#",onClick:this.handleReset},"閲嶇疆"),r.createElement("a",{className:"btn btn-hollow",href:"#",onClick:this.handleOpenCompare},r.createElement("i",{className:"icon-vs"}),"鍚岃瀵规瘮")),r.createElement("div",{className:"selected-indices"},"宸查€夛細",this.renderSelectedIndices()),r.createElement("div",{className:"indices-comments"},"杩樿兘娣诲姞",r.createElement("strong",{className:"num"},E-e),"椤广€傛墍閫夐」鏁�=宸查€夌粓绔暟脳宸查€夋寚鏍囨暟锛屽彲鐐瑰彸杈光€滈噸缃€濇寜閽紝閲嶆柊閫夋嫨銆�"),r.createElement("div",{className:"chart-wrapper"},r.createElement(o,n({data:this.filterData(),autoShowTooltip:!0},v.getLabelObj(this.props.dateType,this.props.dateRange),{chartOpts:{xAxis:{style:{stroke:"#afafaf"},scales:{style:{fill:"#afafaf"},activeStyle:{"background-color":"#ffa60b"}}},tooltip:{isThousands:!0},yAxis:{left:{enabled:!1,scales:{enabled:!1,origin:0}}},plot:{path:{animation:{enabled:!0,duration:500}}},background:{horizLine:{stroke:"#ededed"},verticalLabel:{enabled:!0,style:{stroke:"#ccc","stroke-width":1}}},colors:f.chartColors,margin:[5,0,0,0]}})),this.renderMessage())))}})},function(e,t,a){"use strict";var n=a(2),r=a(3),s=(a(1).Appoint,a(1).Message),i=a(1).LinkUrl,l=(a(1).ExSwitchItem,a(1).ExSwitch,a(1).CommonViewMixin);a(40),a(9);e.exports=n.createClass({displayName:"exports",mixins:[l],propTypes:{device:n.PropTypes.string.isRequired,dateType:n.PropTypes.string.isRequired,dateRange:n.PropTypes.string.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){return{data:[]}},componentDidMount:function(){this.props.model.changeParam({device:this.props.device,dateType:this.props.dateType,dateRange:this.props.dateRange})},componentWillReceiveProps:function(e){this.props.model.changeParam({device:e.device,dateType:e.dateType,dateRange:e.dateRange})},_reRender:function(){this.setState({isLoading:!1,data:this.props.model.get("data")||[]})},renderTableHeader:function(){return n.createElement("ul",{className:"table-header"},n.createElement("li",{className:"name"},"鍟嗗搧鍚嶇О"),n.createElement("li",{className:"value"},"璁垮鏁�"),n.createElement("li",{className:"rate"},"涓嬪崟杞寲鐜�"),n.createElement("li",{className:"action"},"鎿嶄綔"))},renderTableBody:function(){return this.hasError()||this.isEmpty()?void 0:this.state.data.map(function(e,t){return n.createElement("li",{key:"item-"+t},n.createElement("span",{className:"cell name"},n.createElement("a",{className:"box-img",target:"_blank",title:e.itemTitle,href:e.itemDetailUrl},n.createElement("img",{src:e.itemPicUrl+"_32x32.jpg"})),n.createElement("p",{className:"item-title"},n.createElement("a",{target:"_blank",title:e.itemTitle,href:e.itemDetailUrl},e.itemTitle))),n.createElement("span",{className:"cell value num"},e.uvFmt),n.createElement("span",{className:"cell rate num"},e.orderRateFmt),n.createElement("span",{className:"cell action"},n.createElement("a",{href:i["item/itemAnaly"]+"#/?itemId="+e.itemId,target:"_blank"},"鍗曞搧鍒嗘瀽")))},this)},hasError:function(){return this.props.model.get("data").hasError},isEmpty:function(){return r.isEmpty(this.props.model.get("data"))},renderMessage:function(){return this.state.isLoading?n.createElement(s,{type:"loading",hasMask:!0}):this.hasError()?n.createElement(s,{type:"error",hasMask:!0}):this.isEmpty()?n.createElement(s,{type:"empty"}):void 0},render:function(){return n.createElement("div",{className:"flow-index-behavior-item-top two-columns left-column"},n.createElement("div",{className:"sub-header"},n.createElement("a",{className:"ui-link",href:i["item/itemEffect"],target:"_blank"},"鍟嗗搧鏁堟灉"),n.createElement("h5",null,n.createElement("span",null,"鍗曞搧璁块棶TOP3"))),n.createElement("div",{className:"table table-simple-pic"},this.renderTableHeader(),n.createElement("ul",{className:"table-body"},this.renderTableBody(),this.renderMessage())))}})},function(e,t,a){"use strict";var n=a(2),r=a(3),s=(a(1).Appoint,a(1).Message),i=a(1).LinkUrl,l=(a(1).ExSwitchItem,a(1).ExSwitch,a(1).CommonViewMixin);a(41),a(9);e.exports=n.createClass({displayName:"exports",mixins:[l],propTypes:{device:n.PropTypes.string.isRequired,dateType:n.PropTypes.string.isRequired,dateRange:n.PropTypes.string.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){return{data:[]}},componentDidMount:function(){this.props.model.changeParam({device:this.props.device,dateType:this.props.dateType,dateRange:this.props.dateRange})},componentWillReceiveProps:function(e){this.props.model.changeParam({device:e.device,dateType:e.dateType,dateRange:e.dateRange})},_reRender:function(){this.setState({isLoading:!1,data:this.props.model.get("data")||[]})},renderTableHeader:function(){return n.createElement("ul",{className:"table-header"},n.createElement("li",{className:"name"},"鍏抽敭璇�"),n.createElement("li",{className:"value"}),n.createElement("li",{className:"bar"},"璁垮鏁帮紙浜猴級"),n.createElement("li",{className:"rate"},"寮曞涓嬪崟杞寲鐜�"))},renderTableBody:function(){return this.hasError()||this.isEmpty()?void 0:this.state.data.map(function(e,t){var a=i["toolbox/keywordDetail"]+"#/?keyword="+e.name+"&device="+this.props.device+"&keywordType=search";return n.createElement("li",{key:"item-"+t},n.createElement("span",{className:"cell name text-truncate"},n.createElement("a",{href:a,target:"_blank"},e.name)),n.createElement("span",{className:"cell value num"},e.uvFmt),n.createElement("span",{className:"cell bar"},n.createElement("span",{className:"part-rate",style:{width:e.uvBarWidthFmt}})),n.createElement("span",{className:"cell rate num"},e.seLeOrderRateFmt))},this)},hasError:function(){return this.props.model.get("data").hasError},isEmpty:function(){return r.isEmpty(this.props.model.get("data"))},renderMessage:function(){return this.state.isLoading?n.createElement(s,{type:"loading",hasMask:!0}):this.hasError()?n.createElement(s,{type:"error",hasMask:!0}):this.isEmpty()?n.createElement(s,{type:"empty"}):void 0},render:function(){return n.createElement("div",{className:"flow-index-behavior-item-top two-columns left-column"},n.createElement("div",{className:"sub-header"},n.createElement("a",{className:"ui-link",href:i["toolbox/keywordAssistant"],target:"_blank"},"閫夎瘝鍔╂墜"),n.createElement("h5",null,n.createElement("span",null,"鍏ュ簵鍏抽敭璇峊OP5"))),n.createElement("div",{className:"table table-simple-line"},this.renderTableHeader(),n.createElement("ul",{className:"table-body"},this.renderTableBody(),this.renderMessage())))}})},function(e,t,a){"use strict";var n=a(2),r=a(3),s=(a(1).Appoint,a(1).Message),i=a(1).LinkUrl,l=(a(1).ExSwitchItem,a(1).ExSwitch,a(1).CommonViewMixin);a(22),a(9);e.exports=n.createClass({displayName:"exports",mixins:[l],propTypes:{device:n.PropTypes.string.isRequired,dateType:n.PropTypes.string.isRequired,dateRange:n.PropTypes.string.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){return{data:[]}},componentDidMount:function(){this.props.model.changeParam({device:this.props.device,dateType:this.props.dateType,dateRange:this.props.dateRange})},componentWillReceiveProps:function(e){this.props.model.changeParam({device:e.device,dateType:e.dateType,dateRange:e.dateRange})},_reRender:function(){this.setState({isLoading:!1,data:this.props.model.get("data")||[]})},renderTableHeader:function(){return n.createElement("ul",{className:"table-header"},n.createElement("li",{className:"name"},"鍩庡競"),n.createElement("li",{className:"value"}),n.createElement("li",{className:"bar"},"鏃ュ潎璁垮鏁帮紙浜猴級"),n.createElement("li",{className:"rate"},"涓嬪崟杞寲鐜�"))},hasError:function(){return this.props.model.get("data").hasError},isEmpty:function(){return r.isEmpty(this.props.model.get("data"))},renderMessage:function(){return this.state.isLoading?n.createElement(s,{type:"loading",hasMask:!0}):this.hasError()?n.createElement(s,{type:"error",hasMask:!0}):this.isEmpty()?n.createElement(s,{type:"empty"}):void 0},renderTableBody:function(){return this.hasError()||this.isEmpty()?void 0:this.state.data.map(function(e,t){return n.createElement("li",{key:"item-"+t},n.createElement("span",{className:"cell name text-truncate"},e.name),n.createElement("span",{className:"cell value num"},e.uvFmt),n.createElement("span",{className:"cell bar"},n.createElement("span",{className:"part-rate",style:{width:e.uvBarWidthFmt}})),n.createElement("span",{className:"cell rate num"},e.orderRateFmt))},this)},render:function(){return n.createElement("div",{className:"flow-index-feature-area two-columns left-column"},n.createElement("div",{className:"sub-header"},n.createElement("a",{className:"ui-link",href:i["flow/visitorArea"],target:"_blank"},"璁垮鍒嗘瀽"),n.createElement("h5",null,n.createElement("span",null,"鍩庡競TOP5"))),n.createElement("div",{className:"table table-simple-line"},this.renderTableHeader(),n.createElement("ul",{className:"table-body"},this.renderTableBody(),this.renderMessage())))}})},function(e,t,a){"use strict";var n=a(2),r=(a(3),a(4).Classable.getClasses),s=a(12),i=a(1),l=a(1),o=i.FormatHelper,c=(l.NounMap,l.Appoint,l.Message,l.LinkUrl,"#b0dc58"),d="#6bcbca";e.exports=n.createClass({displayName:"exports",getDefaultProps:function(){return{data:[]}},componentDidMount:function(){this._renderPie()},componentDidUpdate:function(e,t){this._renderPie()},_renderPie:function(){var e=n.findDOMNode(this.refs.pieContainer);e&&(this.pie?this.pie.render(this.getPieData(this.props.data[0].value,this.props.data[1].value),this.getPieOpt()):this.pie=new s(e,this.getPieData(this.props.data[0].value,this.props.data[1].value),this.getPieOpt()))},getPieData:function(e,t){return{global:{type:"pie"},dataSets:[{name:"self",value:e},{name:"diff",value:t}]}},getPieOpt:function(){return{minAngle:5,tooltip:{enabled:!1},plot:{arc:{style:{stroke:"#fff","stroke-width":2,cursor:"normal"},animation:{enabled:!1}},radius:36,donut:{enabled:!1}},margin:[0,0,0,0],colors:[c,d],legend:{enabled:!1}}},render:function(){var e=r({"dichromatic-pie":!0});return n.createElement("div",{className:e},n.createElement("div",{className:"pie-container",ref:"pieContainer"}),n.createElement("div",{className:"pie-info"},n.createElement("div",{className:"info-card new"},n.createElement("i",{className:"dot",style:{backgroundColor:c}}),n.createElement("span",{className:"name"},this.props.data[0].name),n.createElement("span",{className:"value"},o.toPercentage(this.props.data[0].value))),n.createElement("div",{className:"info-card old"},n.createElement("i",{className:"dot",style:{backgroundColor:d}}),n.createElement("span",{className:"name"},this.props.data[1].name),n.createElement("span",{className:"value"},o.toPercentage(this.props.data[1].value)))))}})},function(e,t,a){"use strict";var n=a(2),r=a(3),s=(a(1).Appoint,a(1).Message),i=a(1).LinkUrl,l=(a(1).ExSwitchItem,a(1).ExSwitch,a(1).CommonViewMixin);a(9);e.exports=n.createClass({displayName:"exports",mixins:[l],propTypes:{device:n.PropTypes.string.isRequired,dateType:n.PropTypes.string.isRequired,dateRange:n.PropTypes.string.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){return{data:[]}},componentDidMount:function(){this.props.model.changeParam({device:this.props.device,dateType:this.props.dateType,dateRange:this.props.dateRange})},componentWillReceiveProps:function(e){this.props.model.changeParam({device:e.device,dateType:e.dateType,dateRange:e.dateRange})},_reRender:function(){this.setState({isLoading:!1,data:this.props.model.get("data")||[]})},renderTableHeader:function(){return n.createElement("ul",{className:"table-header"},n.createElement("li",{className:"name"},"鎬у埆"),n.createElement("li",{className:"value"}),n.createElement("li",{className:"bar"},"鏃ュ潎璁垮鏁帮紙浜猴級"),n.createElement("li",{className:"rate"},"涓嬪崟杞寲鐜�"))},hasError:function(){return this.props.model.get("data").hasError},isEmpty:function(){return r.isEmpty(this.props.model.get("data"))},renderMessage:function(){return this.state.isLoading?n.createElement(s,{type:"loading",hasMask:!0}):this.hasError()?n.createElement(s,{type:"error",hasMask:!0}):this.isEmpty()?n.createElement(s,{type:"empty"}):void 0},renderTableBody:function(){return this.hasError()||this.isEmpty()?void 0:this.state.data.map(function(e,t){return n.createElement("li",{key:"item-"+t},n.createElement("span",{className:"cell name text-truncate"},e.name),n.createElement("span",{className:"cell value num"},e.uvFmt),n.createElement("span",{className:"cell bar"},n.createElement("span",{className:"part-rate",style:{width:e.uvBarWidthFmt}})),n.createElement("span",{className:"cell rate num"},e.rateFmt))},this)},render:function(){return n.createElement("div",{className:"flow-index-feature-gender two-columns left-column"},n.createElement("div",{className:"sub-header"},n.createElement("a",{className:"ui-link",href:i["flow/visitorDistribute"],target:"_blank"},"璁垮鍒嗘瀽"),n.createElement("h5",null,n.createElement("span",null,"璁垮鎬у埆"))),n.createElement("div",{className:"table table-simple-line"},this.renderTableHeader(),n.createElement("ul",{className:"table-body"},this.renderTableBody(),this.renderMessage())))}})},function(e,t,a){"use strict";var n=a(2),r=a(3),s=a(1).CommonChart,i=(a(1).Appoint,a(1).Message),l=a(1).LinkUrl,o=a(1).NounMap,c=a(1).CommonViewMixin,d=a(1).FormatHelper,m=(a(22),a(9),{xAxis:{style:{stroke:"#afafaf"},scales:{style:{fill:"#afafaf"},activeStyle:{"background-color":"#ffa60b"}}},tooltip:{isThousands:!0},yAxis:{left:{enabled:!1,scales:{enabled:!1,origin:0}}},plot:{path:{animation:{enabled:!0,duration:500}}},background:{horizLine:{stroke:"#ededed"},verticalLabel:{enabled:!0,style:{stroke:"#ccc","stroke-width":1}}},colors:o.chartColors,lineStyles:[],margin:[5,0,0,0]});e.exports=n.createClass({displayName:"exports",mixins:[c],propTypes:{device:n.PropTypes.string.isRequired,dateType:n.PropTypes.string.isRequired,dateRange:n.PropTypes.string.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){return{data:{}}},componentDidMount:function(){this.props.model.changeParam({device:this.props.device,dateType:this.props.dateType,dateRange:this.props.dateRange})},componentWillReceiveProps:function(e){this.props.model.changeParam({device:e.device,dateType:e.dateType,dateRange:e.dateRange})},_reRender:function(){this.setState({isLoading:!1,data:this.props.model.get("data")||{}})},hasError:function(){return this.props.model.get("data").hasError},getDateRangeText:function(){return o.getDtPickerName(this.props.dateType)},renderMessage:function(){return this.state.isLoading?n.createElement(i,{type:"loading",hasMask:!0}):this.hasError()?n.createElement(i,{type:"error",hasMask:!0}):void 0},renderChart:function(){return this.state.data&&this.state.data.trend?n.createElement(s,{className:"period-chart",isDay:!0,hasAvg:!0,chartOpts:m,data:this.state.data.trend}):void 0},renderExplanation:function(){var e=this.state.data&&this.state.data.explanation;if(r.isEmpty(e))return n.createElement("div",{className:"data-explanation",style:{visibility:"hidden"}});var t=""+e.hour+":00-"+e.hour+":59",a="";return e.flowSourceNameNum1&&!e.flowSourceNameNum2?a=n.createElement("p",null,"璁垮鏉ユ簮锛�",n.createElement("strong",null,e.flowSourceNameNum1),"锛�",d.toPercentage(e.uvRateNum1),"锛�"):e.flowSourceNameNum1&&e.flowSourceNameNum2&&(a=n.createElement("p",null,"璁垮鏉ユ簮锛�",n.createElement("strong",null,e.flowSourceNameNum1),"锛�",d.toPercentage(e.uvRateNum1),"锛夛紝",n.createElement("strong",null,e.flowSourceNameNum2),"锛�",d.toPercentage(e.uvRateNum2),"锛�")),e?n.createElement("div",{className:"data-explanation"},n.createElement("p",null,this.getDateRangeText(),this.props.device+""=="1"?"PC":"鏃犵嚎","绔紝鏃ュ潎璁垮鏈€澶氱殑鏃舵涓猴細",n.createElement("strong",{className:"num"},t)),a):void 0},render:function(){this.state.data;return n.createElement("div",{className:"flow-index-feature-period two-columns left-column"},n.createElement("div",{className:"sub-header"},n.createElement("a",{className:"ui-link",href:l["flow/visitorPeriod"],target:"_blank"},"璁垮鍒嗘瀽"),n.createElement("h5",null,n.createElement("span",null,"鏃舵"))),n.createElement("div",{className:"sub-content"},this.renderExplanation(),this.renderChart(),this.renderMessage()))}})},function(e,t,a){"use strict";var n=a(2),r=a(3),s=(a(1).Appoint,a(1).Message),i=(a(1).LinkUrl,a(1).ExSwitchItem,a(1).ExSwitch,a(1).CommonViewMixin),l=(a(22),a(96));a(9);e.exports=n.createClass({displayName:"exports",mixins:[i],propTypes:{device:n.PropTypes.string.isRequired,dateType:n.PropTypes.string.isRequired,dateRange:n.PropTypes.string.isRequired},getDefaultProps:function(){return{}},getInitialState:function(){return{data:{}}},componentDidMount:function(){this.props.model.changeParam({device:this.props.device,dateType:this.props.dateType,dateRange:this.props.dateRange})},componentWillReceiveProps:function(e){this.props.model.changeParam({device:e.device,dateType:e.dateType,dateRange:e.dateRange})},_reRender:function(){this.setState({isLoading:!1,data:this.props.model.get("data")||{}})},hasError:function(){return this.props.model.get("data").hasError},isEmpty:function(){return r.isEmpty(this.props.model.get("data"))},renderMessage:function(){return this.state.isLoading?n.createElement(s,{type:"loading",hasMask:!0}):this.hasError()?n.createElement(s,{type:"error",hasMask:!0}):this.isEmpty()?n.createElement(s,{type:"empty"}):void 0},renderPies:function(){var e=this.state.data,t=e.oldUv,a=e.newUv,r=e.taoFreeUv,s=e.taoPayUv,i=e.pcUv,o=e.wirelessUv;return t&&a&&r&&s&&i&&o&&!this.hasError()?n.createElement("div",{className:"dichromatic-pies"},n.createElement(l,{data:[{name:"鑰佽瀹�",value:t.rate},{name:"鏂拌瀹�",value:a.rate}]}),n.createElement(l,{data:[{name:"娣樺唴鍏嶈垂",value:r.rate},{name:"娣樺唴浠樿垂",value:s.rate}]}),n.createElement(l,{data:[{name:"PC绔 ",value:i.rate},{name:"鏃犵嚎绔�",value:o.rate}]})):void 0},render:function(){return n.createElement("div",{className:"flow-index-feature-structure two-columns left-column"},n.createElement("div",{className:"sub-header"},n.createElement("h5",null,n.createElement("span",null,"璁垮鏋勬垚"))),n.createElement("div",{className:"sub-content"},this.renderPies(),this.renderMessage()))}})},function(e,t,a){"use strict";var n=a(2),r=a(1).NounMap,s=(a(3),a(6)),i=a(4).Classable.getClasses,l=a(1).FormatHelper;e.exports=n.createClass({displayName:"exports",propTypes:{index:n.PropTypes.string,name:n.PropTypes.string,value:n.PropTypes.string.isRequired,dateType:n.PropTypes.string.isRequired,dateRange:n.PropTypes.string.isRequired,rate:n.PropTypes.number.isRequired},getPreviousText:function(){var e=this.props,t=e.dateType,a=e.dateRange;switch(t){case"recent1":return"杈冨墠鏃�";case"recent7":return"杈冧笂7澶�";case"recent30":return"杈冧笂30澶�";case"day":return"杈�"+s(a.split("|")[1]).add(-1,"day").format("MM-DD");case"week":return"杈冧笂鍛�";case"month":return"杈�"+s(a.split("|")[1]).add(-1,"month").format("YYYY-MM")}},render:function(){var e="";this.props.index&&(e=r.getIndexName(this.props.index)),e||(e=this.props.name||"");var t=i({trend:!0,up:this.props.rate>0,down:this.props.rate<0,flat:0===this.props.rate});return n.createElement("li",{className:"data-index"},n.createElement("div",{className:"name sans-serif"},e),n.createElement("div",{className:"value num"},this.props.value),n.createElement("div",{className:"rate"},n.createElement("span",null,this.getPreviousText()),n.createElement("span",{className:t},n.createElement("i",{className:"icon-trend"}),n.createElement("span",{className:"num"},l.toPercentage(Math.abs(this.props.rate))))))}})},function(e,t,a){"use strict";var n=a(2),r=a(3),s=(a(1).Appoint,a(1).Message),i=(a(1).CommonViewMixin,a(1).NounMap,a(1).LinkUrl),l=a(4).Classable.getClasses,o=a(1).ExOverlayTrigger,c=a(1).ExTips,d=a(44);a(9);e.exports=n.createClass({displayName:"exports",propTypes:{dateType:n.PropTypes.string.isRequired,dateRange:n.PropTypes.string.isRequired,device:n.PropTypes.string.isRequired},getInitialState:function(){return{isLoading:!0,data:{}}},componentWillMount:function(){this._model=new d},componentWillUnmount:function(){this._model.off(),delete this._model},componentDidMount:function(){this._model.on("change:param",this._setLoading,this),this._model.on("change:data",this._reRender,this),this._model.changeParam({device:this.props.device,dateType:this.props.dateType,dateRange:this.props.dateRange})},_setLoading:function(){this.setState({isLoading:!0})},componentWillReceiveProps:function(e){this._model.changeParam({device:e.device,dateType:e.dateType,dateRange:e.dateRange})},_reRender:function(){this.setState({isLoading:!1,data:this._model.get("data")})},renderCaption:function(){return n.createElement("div",{className:"table-caption-bar"},n.createElement("span",{className:"self-bar"}),n.createElement("span",{className:"self-text"},"鏈簵"),n.createElement("span",{className:"diff-bar"}),n.createElement("span",{className:"diff-text"},"鍚岃骞冲潎"))},renderTableHeader:function(){return n.createElement("ul",{className:"table-header"},n.createElement("li",{className:"name"},"浜岀骇鏉ユ簮"),n.createElement("li",{className:"value"}),n.createElement("li",{className:"bar"},"璁垮鏁帮紙浜猴級"),n.createElement("li",{className:"rate"},"涓嬪崟杞寲鐜�"),n.createElement("li",{className:"rate-change"},"涓嬪崟杞寲鐜囧彉鍖�"))},renderCaution:function(e){return Math.abs(e)>.3?n.createElement(o,{trigger:"hover",overlay:n.createElement(c,{arrowPlacement:["top","right"],className:"flow-index-source-tips"},n.createElement("span",{className:"tip-content"},"璇ユ寚鏍囨尝鍔ㄨ秴杩�30%锛岃鍏虫敞锛�"))},n.createElement("i",{className:"icon-danger"})):void 0},hasError:function(){return this._model.get("data").hasError},isEmpty:function(){return r.isEmpty(this._model.get("data"))},renderMessage:function(){return this.state.isLoading?n.createElement(s,{type:"loading",hasMask:!0}):this.hasError()?n.createElement(s,{type:"error",hasMask:!0}):this.isEmpty()?n.createElement(s,{type:"empty"}):void 0},renderPayFlag:function(){return n.createElement(o,{trigger:"hover",overlay:n.createElement(c,{arrowPlacement:["top","center"],className:"flow-index-payflag-tips"},n.createElement("span",{className:"tip-content"},"璇ユ潵婧愪负鏀惰垂鏉ユ簮锛岃鍏虫敞鏀惰垂娴侀噺鍗犳瘮锛屽悎鐞嗚皟閰嶃€�"))},n.createElement("i",{className:"icon-money"}))},renderTableBody:function(e,t){var a="PC"===t?1:2;if(!this.hasError()&&!this.isEmpty())return e.map(function(e,t){var r=i["flow/flowSourceDetail"]+"#/?device="+a+"&deviceLogicType="+a+"&sourceIds="+parseInt(e.id)+","+e.id+"&cateId=0&sourceDataType=0&childPageType="+(e.childPageType||"")+"&isLeaf=true",s=l("trend",{up:e.self.orderRateChangeRate>0,down:e.self.orderRateChangeRate<0,flat:0===e.self.orderRateChangeRate}),o=l("trend",{up:e.diff.orderRateChangeRate>0,down:e.diff.orderRateChangeRate<0,flat:0===e.diff.orderRateChangeRate});return n.createElement("li",{key:"item-"+t},n.createElement("span",{className:"cell name text-truncate"},n.createElement("a",{href:r,target:"_blank"},e.name),e.isPayFlag?this.renderPayFlag():null),n.createElement("span",{className:"cell value"},n.createElement("p",{className:"self num"},e.self.uvFmt),n.createElement("p",{className:"diff num"},e.diff.uvFmt)),n.createElement("span",{className:"cell bar"},n.createElement("p",{className:"self bar-line",style:{width:e.self.uvBarWidthFmt}}),n.createElement("p",{className:"diff bar-line",style:{width:e.diff.uvBarWidthFmt}})),n.createElement("span",{className:"cell rate"},n.createElement("p",{className:"self"},n.createElement("span",{className:"num"},e.self.orderRateFmt)),n.createElement("p",{className:"diff"},n.createElement("span",{className:"num"},e.diff.orderRateFmt))),n.createElement("span",{className:"cell rate-change"},n.createElement("p",{className:"self"},n.createElement("span",{className:s},n.createElement("i",{className:"icon-trend"}),n.createElement("span",{className:"num"},e.self.orderRateChangeRateFmt)),this.renderCaution(e.self.orderRateChangeRate)),n.createElement("p",{className:"diff"},n.createElement("span",{className:o},n.createElement("i",{className:"icon-trend"}),n.createElement("span",{className:"num"},e.diff.orderRateChangeRateFmt)),this.renderCaution(e.diff.orderRateChangeRate))))},this)},render:function(){var e=this.props.device+""=="1"?"PC":"鏃犵嚎",t=e+"娴侀噺鏉ユ簮TOP10",a=l({"two-columns":!0,"left-column":"PC"===e,"right-column":"PC"!==e}),r=i["flow/flowMap"]+"#/?device="+("PC"===e?1:2),s="PC"===e?this.state.data.pc:this.state.data.wireless;return s=s||[],n.createElement("div",{className:a},n.createElement("div",{className:"sub-header"},n.createElement("a",{className:"ui-link",href:r,target:"_blank"},"娴侀噺鍦板浘"),n.createElement("h5",null,n.createElement("span",null,t))),n.createElement("div",{className:"table table-diff"},this.renderCaption(),this.renderTableHeader(),n.createElement("ul",{className:"table-body"},this.renderTableBody(s,e),this.renderMessage())))}})},function(e,t,a){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(2),s=a(1).Download,i=a(1).Message,l=a(1).ExSelector,o=a(3),c=a(9),d=a(1).ExDialog,m=a(1).CommonChart,p=a(1).NounMap,u=a(26),h=a(1).CommonChartHelper,f=a(4).Classable.getClasses,v=JSON.parse(document.getElementById("main").getAttribute("data-industry-infos")),g=[],y=v,E=[{value:"1",name:p.getDiffName("1")},{value:"2",name:p.getDiffName("2")}];o.isEmpty(y)||y.forEach(function(e){var t=e.industryId,a=e.industryName;E.forEach(function(e){g.push({value:e.value+"-"+t,diff:e.value,name:a+"锛�"+e.name+"锛�"})})});var w=(g[0]||{}).value||"",D={0:"鎵€鏈夌粓绔�",1:"PC绔�",2:"鏃犵嚎绔�"},N=r.createClass({displayName:"TrendDialog",propTypes:{dateType:r.PropTypes.string.isRequired,dateRange:r.PropTypes.string.isRequired,originalDateType:r.PropTypes.string.isRequired,originalDateRange:r.PropTypes.string.isRequired,isActive:r.PropTypes.bool.isRequired,devices:r.PropTypes.array.isRequired,indices:r.PropTypes.array.isRequired},getInitialState:function(){return this._downloadParam={baseUrl:c.get("trend/download"),param:{index:{isDescription:!0,isRequestParam:!1,descriptionName:"鎵€鏈夋寚鏍�"},categoryId:{isDescription:!1,requestValue:w.split("-")[1],isRequestParam:!0},diff:{isDescription:!1,requestValue:w.split("-")[0],isRequestParam:!0},device:{isDescription:!0,isRequestParam:!1,descriptionName:"鎵€鏈夌粓绔�"},dateType:{requestValue:this.props.dateType,isDescription:!0,isRequestParam:!0,descriptionName:p.getDtPickerName(this.getDownloadDateType(this.props.originalDateType))},dateRange:{requestValue:this.props.dateRange,isDescription:!1,isRequestParam:!0}}},{isLoading:!0,selectedCategory:w,data:{}}},componentWillMount:function(){this._model=new u},componentWillUnmount:function(){this._model.off(),delete this._model},componentDidMount:function(){this._model.on("change:param",this._setLoading,this),this._model.on("change:data",this._reRender,this),this._model.changeParam({diff:w.split("-")[0],categoryId:w.split("-")[1],device:this.props.devices.join(","),index:this.props.indices.join(","),dateType:this.props.dateType,dateRange:this.props.dateRange})},getDownloadDateType:function(e){switch(e){case"recent1":case"recent7":case"recent30":return"recent30";default:return e}},componentWillReceiveProps:function(e){e.isActive&&(this._model.changeParam({device:e.devices.join(","),index:e.indices.join(","),dateType:e.dateType,dateRange:e.dateRange}),this._downloadParam.param.dateType.requestValue=e.dateType,this._downloadParam.param.dateType.descriptionName=p.getDtPickerName(this.getDownloadDateType(e.originalDateType)),this._downloadParam.param.dateRange.requestValue=e.dateRange)},shouldComponentUpdate:function(e){return!(e.isActive===this.props.isActive&&this.props.isActive===!1)},_setLoading:function(){this.setState({isLoading:!0})},_reRender:function(){this.setState({isLoading:!1,data:this._model.get("data")})},getDataByDeviceIndex:function(e,t){var a,n;return(this.state.data.diff||[]).forEach(function(n){n.device+""==e+""&&null!=n[t]&&(a=[n])}),(this.state.data.self||[]).forEach(function(a){a.device+""==e+""&&null!=a[t]&&(n=[a])}),{self:n,diff:a}},renderCharts:function(){var e=[],t=0;return this.props.devices.forEach(function(a){this.props.indices.forEach(function(s){var i=f({"diff-chart":!0,"border-right":t%2===0,"border-bottom":2>t});e.push(r.createElement("div",{className:i,key:"chart-"+s+"-"+a},r.createElement("div",{className:"legends pull-right"},"鎴戠殑",r.createElement("span",{className:"legend-self"}),"鍚岃",r.createElement("span",{className:"legend-diff"})),r.createElement("p",{className:"title"},D[a]+"-"+p.getIndexName(s)),r.createElement(m,n({className:"compare-chart",isDay:!0,data:this.getDataByDeviceIndex(a,s)},h.getLabelObj(this.props.dateType,this.props.dateRange),{chartOpts:{xAxis:{style:{stroke:"#afafaf"},scales:{style:{fill:"#afafaf"},activeStyle:{"background-color":"#ffa60b"}}},tooltip:{isThousands:!0},yAxis:{left:{enabled:!0,scales:{enabled:!0,origin:0}}},plot:{path:{animation:{enabled:!0,duration:500}}},background:{horizLine:{stroke:"#ededed"},verticalLabel:{enabled:!0,style:{stroke:"#ccc","stroke-width":1}}},margin:[5,0,0,0],colors:[p.chartColors[t],p.chartColors[t]],lineStyles:[{},{"stroke-dasharray":"-."}]}})))),t++},this)},this),e},hasError:function(){return this._model.get("data").hasError},isEmpty:function(){return!1},renderMessage:function(){return this.state.isLoading?r.createElement(i,{type:"loading",hasMask:!0}):this.hasError()?r.createElement(i,{type:"error",hasMask:!0}):this.isEmpty()?r.createElement(i,{type:"empty"}):void 0},handleCategoryChange:function(e){this.setState({selectedCategory:e.value}),this._model.changeParam({diff:e.value.split("-")[0],categoryId:e.value.split("-")[1]}),this._downloadParam.param.diff.requestValue=e.value.split("-")[0],this._downloadParam.param.categoryId.requestValue=e.value.split("-")[1]},render:function(){var e=this.props,t=e.devices,a=e.indices,i=t.length*a.length,o=f("trend-dialog",{"single-column":2>i,"two-columns":i>=2});return r.createElement(d,n({},this.props,{
title:"鍚岃瀵规瘮",className:o}),r.createElement("div",{className:"actions-bar"},r.createElement("div",{className:"inner-wrapper"},r.createElement(l,{placeholder:"璇烽€夋嫨",data:g,value:this.state.selectedCategory,onSwitch:this.handleCategoryChange}),r.createElement(s,{className:"pull-right",baseUrl:this._downloadParam.baseUrl,downloadParam:this._downloadParam.param,hasDescription:!0}))),r.createElement("div",{className:"charts-wrapper"},this.renderCharts(),this.renderMessage()))}});e.exports=N},function(e,t,a){"use strict";var n=a(1).CommonModel,r=a(1).FormatHelper,s=a(3),i=a(9);e.exports=n.extend({useCors:!0,defaults:{param:{dateType:"",dateRange:""},data:{}},url:i.get("feature/gender"),parseData:function(e){if(!e)return[];var t=0,a=s.max(e,"uv");return a&&a!==-(1/0)&&(t=a.uv||0),e.forEach(function(e){var a=0;t>0&&(a=e.uv/t),a=.9*a+.1,e.uvBarWidthFmt=r.toPercentage(a),e.uvFmt=r.formatNum(e.uv),e.rateFmt=r.toPercentage(e.orderRate)}),e},handleError:function(){this.set("data",{hasError:!0,_t:Date.now()})}})},function(e,t,a){"use strict";var n=a(1).CommonModel,r=(a(1).FormatHelper,a(3),a(9));e.exports=n.extend({useCors:!0,defaults:{param:{device:"",dateType:"",dateRange:""},data:{}},url:r.get("feature/period"),parseData:function(e){if(!e)return{};var t=this.get("param").device||"1",a=[];for(var n in(e||{}).trend){var r={device:t};r[n]=e.trend[n],a.push(r)}var s={};return 0!==e.explanation.id&&(s=e.explanation.values.reduce(function(e,t){return e[t.name]=t.value,e},{})),{trend:{self:a},explanation:s}},handleError:function(){this.set("data",{hasError:!0,_t:Date.now()})}})},function(e,t,a){"use strict";var n=a(1).CommonModel,r=a(9);e.exports=n.extend({useCors:!0,defaults:{param:{dateType:"",dateRange:""},data:{}},url:r.get("feature/structure"),parseData:function(e){return e?e:{}},handleError:function(){this.set("data",{hasError:!0,_t:Date.now()})}})}]));